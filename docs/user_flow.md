# EduChat 사용자 플로우

## 🚀 앱 시작부터 첫 대화까지

```mermaid
journey
    title EduChat 사용자 여정
    section 앱 실행
        앱 실행: 5: User
        환영 메시지: 5: System
        API 키 설정: 4: User
    section 일반 모드 탐색
        기초 질문: 5: User
        일반모드 응답: 4: System
        추가 학습: 4: User
    section 딥러닝 모드 전환
        딥러닝 모드 토글: 3: User
        새 세션 생성: 5: System
        웰컴 메시지: 5: System
    section 사전 질문 단계
        1단계 계획 질문: 5: System
        계획 답변: 4: User
        2단계 구성 질문: 5: System
        구성 답변: 4: User
    section 심층 학습
        6단계 분석 생성: 5: System
        개념 이해: 5: User
        평가 및 마무리: 4: System
```

## 🎯 모드별 상호작용 패턴

### 일반모드 사용자 플로우
```mermaid
flowchart TD
    A[사용자 질문] --> B{질문 유형}
    B -->|간단 인사| C[친근한 인사 응답]
    B -->|기초 개념| D[이모지 구조화 응답]
    B -->|구체적 개념| E[기초 원리 + 자연스러운 비교]

    C --> F[대화 지속]
    D --> F
    E --> F

    F --> G{추가 질문?}
    G -->|예| A
    G -->|아니오| H[세션 종료]
```

### 딥러닝 모드 사용자 플로우
```mermaid
flowchart TD
    A[사용자 개념 질문] --> B[딥러닝 모드 토글 ON]
    B --> C[새 세션 생성]
    C --> D[웰컴 메시지 표시]
    D --> E[1단계: 분석 계획 수립 질문]
    E --> F[사용자 계획 답변]
    F --> G[2단계: 응답 구성 방식 질문]
    G --> H[사용자 구성 답변]
    H --> I[6단계 심층 분석 생성]
    I --> J[계층적 개념 설명]
    J --> K[평가 및 마무리]

    K --> L{추가 질문?}
    L -->|예| M[새로운 개념 질문]
    L -->|아니오| N[세션 완료]

    M --> A
```

## 📊 교육 효과 추이

### 학습 곡선 그래프 (개념적 표현)
```
학습 효과
     ^
     │
    ⭐│
     │        📚 학습모드
     │     🌟
     │   🔄
    ⭐│ 🔄   일반모드
     │🔄  🌟
     │ 🔄 📚
    ⭐│🔄 🌟 📚
     └───────────────────►
       시간 (사용 빈도)
```

### 역량 개발 단계
```mermaid
graph LR
    A[기초 이해] --> B[원리 파악]
    B --> C[비교 능력]
    C --> D[평가 능력]
    D --> E[자율적 선택]

    style A fill:#e1f5fe
    style B fill:#b3e5fc
    style C fill:#81d4fa
    style D fill:#4fc3f7
    style E fill:#2196f3,color:#fff
```

## 🎨 UI/UX 플로우

### 메인 화면 상호작용 (MarkdownUI 렌더링 적용)
```
┌─────────────────────────────────────┐
│           EduChat 🤖📚              │
├─────────────────────────────────────┤
│                                     │
│  🤖 환영 메시지 (첫 실행시)         │
│                                     │
│  💬 사용자 메시지 버블              │
│  ┌─────────────────────────────┐    │
│  │사용자: 머신러닝이 뭐야?      │    │
│  └─────────────────────────────┘    │
│                                     │
│  🤖 AI 응답 (MarkdownUI 렌더링)    │
│  ┌─────────────────────────────────┐ │
│  │### 📖 비유를 통한 핵심 요약     │ │
│  │머신러닝은...                    │ │
│  │                                 │ │
│  │### 📚 개념의 역사               │ │
│  │역사적으로...                    │ │
│  └─────────────────────────────────┘ │
│                                     │
│  📚 사전 질문 단계 (딥러닝 모드)    │
│  1단계: 분석 계획 수립             │
│  2단계: 응답 구성 방식             │
│                                     │
├─────────────────────────────────────┤
│  ┌─────────────────────────────────┐ │
│  │ 💬 메시지 입력...              │ │
│  └─────────────────────────────────┘ │
│  📚 딥러닝 모드 [토글]             │
│  ⚙️ 설정 | ➕ 새 채팅               │
└─────────────────────────────────────┘
```

**MarkdownUI 렌더링 특징:**
- ✅ **헤더 자동 스타일링**: `# ## ###` → 실제 헤더 디자인
- ✅ **리스트 구조화**: `- * 1.` → 계층적 리스트
- ✅ **코드블록 구문 강조**: ```코드``` → 컬러링된 코드블록
- ✅ **볼드/이탤릭**: `**굵게**` `*기울임*` → 실제 스타일 적용
- ✅ **링크 지원**: `[텍스트](URL)` → 클릭 가능한 링크
- ✅ **테이블 렌더링**: 마크다운 테이블 → 실제 테이블

### 설정 화면 플로우
```mermaid
flowchart TD
    A[메인 화면] --> B[⚙️ 설정 버튼]
    B --> C[설정 시트 표시]
    C --> D[API 키 입력 필드]
    D --> E{키 형식 검증}
    E -->|유효| F[저장 버튼 활성화]
    E -->|무효| G[에러 메시지 표시]
    F --> H[UserDefaults 저장]
    H --> I[성공 메시지]
    I --> J[설정 시트 닫힘]
    J --> A
```

## 📈 사용자 성장 메트릭

### 학습 진척도 추적
```mermaid
pie title 사용 시간 분포
    "일반모드" : 35
    "딥러닝모드" : 50
    "사전 질문 단계" : 10
    "설정 및 탐색" : 5
```

### 역량 향상 지표
```mermaid
lineXY
    title 역량 개발 추이
    x-axis 시간 (일)
    y-axis 역량 점수 (0-100)
    line 일반모드 사용자
    line 딥러닝모드 사용자 (사전 질문 포함)
```

## 🔄 피드백 루프

### 지속적 개선 사이클
```mermaid
flowchart LR
    A[사용자 상호작용] --> B[응답 품질 평가]
    B --> C[사용자 만족도]
    C --> D[시스템 개선]
    D --> E[새로운 기능]
    E --> A

    style A fill:#f3e5f5
    style B fill:#e1f5fe
    style C fill:#e8f5e8
    style D fill:#fff3e0
    style E fill:#fce4ec
```
